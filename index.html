<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Builder v48 (Sound Fix)</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Pacifico&family=Ruslan+Display&display=swap" rel="stylesheet">
<style>
/* --- –†–ï–î–ê–ö–¢–û–† --- */
:root{--primary:#9b59b6;--bg:#fdfefe;--panel-w:400px}*{box-sizing:border-box;margin:0;padding:0}body{font-family:'Roboto',sans-serif;height:100vh;display:flex;overflow:hidden;background:var(--bg)}
.editor-panel{width:var(--panel-w);background:#fff;border-right:1px solid #ddd;display:flex;flex-direction:column;z-index:10}
.editor-header{padding:15px;background:#2c3e50;color:#fff}.editor-header h2{font-size:18px;margin:0}
.tabs{display:flex;background:#34495e}.tab{flex:1;text-align:center;padding:10px;color:#bdc3c7;cursor:pointer;font-size:13px;border-bottom:3px solid transparent}.tab.active{color:#fff;border-bottom-color:var(--primary);background:#2c3e50}
.settings-content{flex:1;overflow-y:auto;padding:15px}.section{display:none}.section.active{display:block}
.form-group{margin-bottom:10px}.form-group label{display:block;font-size:11px;font-weight:700;color:#7f8c8d;margin-bottom:4px;text-transform:uppercase}
.form-group input,.form-group textarea,.form-group select{width:100%;padding:6px;border:1px solid #ddd;border-radius:4px;font-size:13px}
.form-group input[type="color"]{height:30px;padding:2px;cursor:pointer}.form-group input[type="range"]{width:100%;cursor:pointer}
.form-row{display:flex;gap:10px}.q-item{background:#f8f9fa;border:1px solid #e9ecef;padding:8px;border-radius:6px;margin-bottom:8px;position:relative}
.btn-remove-q{position:absolute;top:2px;right:5px;color:red;cursor:pointer;font-size:16px;font-weight:bold}
.btn-add{width:100%;padding:8px;background:#f5eef8;border:1px dashed #8e44ad;color:#8e44ad;cursor:pointer;font-weight:700}
.editor-footer{padding:15px;border-top:1px solid #ddd;background:#fff}
.btn-generate{width:100%;padding:12px;background:linear-gradient(135deg,#8e44ad,#9b59b6);color:#fff;border:none;border-radius:6px;font-size:15px;font-weight:700;cursor:pointer}
.preview-area{flex:1;background:#ecf0f1;padding:20px;display:flex;align-items:center;justify-content:center}
#game-preview-container{width:960px;height:540px;background:#fff;box-shadow:0 20px 50px rgba(0,0,0,0.1);border-radius:8px;overflow:hidden}
#game-frame{width:100%;height:100%;border:none}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.8);z-index:1000;display:none;align-items:center;justify-content:center}
.code-modal{background:#fff;padding:20px;border-radius:8px;width:600px;max-width:90%;display:flex;flex-direction:column;gap:10px}
.code-modal textarea{width:100%;height:300px;font-family:monospace;padding:10px;font-size:11px}
.modal-btns{display:flex;justify-content:flex-end;gap:10px}
</style>
</head>
<body>
<div class="editor-panel">
    <div class="editor-header"><h2>‚ú® –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä v48 (Sound Fix)</h2></div>
    <div class="tabs">
        <div class="tab active" onclick="switchTab('content')">–í–æ–ø—Ä–æ—Å—ã</div>
        <div class="tab" onclick="switchTab('graphics')">–ì—Ä–∞—Ñ–∏–∫–∞</div>
        <div class="tab" onclick="switchTab('style')">–°—Ç–∏–ª—å</div>
        <div class="tab" onclick="switchTab('text')">–¢–µ–∫—Å—Ç—ã</div>
    </div>
    <div class="settings-content">
        <div id="tab-content" class="section active">
            <div id="questions-list"></div><button class="btn-add" onclick="addQuestion()">+ –í–æ–ø—Ä–æ—Å</button>
        </div>
        <div id="tab-graphics" class="section">
            <div class="form-group"><label>–ì–µ—Ä–æ–π (URL)</label><input type="text" id="img-hero" onchange="u()"></div>
            <div class="form-group"><label>–ë–æ–º–±–∞ (URL)</label><input type="text" id="img-bomb" onchange="u()"></div>
            <div class="form-group"><label>–ñ–∏–∑–Ω–∏ (URL)</label><input type="text" id="img-life" onchange="u()"></div>
            <div class="form-row">
                <div class="form-group" style="flex:1"><label>–í–µ—Ä–Ω—ã–π (–§–æ–Ω)</label><input type="text" id="img-correct" onchange="u()"></div>
                <div class="form-group" style="flex:1"><label>–ù–µ–≤–µ—Ä–Ω—ã–π (–§–æ–Ω)</label><input type="text" id="img-wrong" onchange="u()"></div>
            </div>
        </div>
        <div id="tab-style" class="section">
            <div class="form-group"><label style="color:#9b59b6">–°–∫–æ—Ä–æ—Å—Ç—å: <span id="sd">2</span></label><input type="range" id="conf-speed" min="1" max="10" step="0.5" value="2" oninput="document.getElementById('sd').innerText=this.value;u()"></div>
            <div class="form-group"><label>–®—Ä–∏—Ñ—Ç</label><select id="font-family" onchange="u()"><option value="Ruslan Display">Ruslan Display</option><option value="Roboto">Roboto</option><option value="Pacifico">Pacifico</option><option value="Arial">Arial</option></select></div>
            <div class="form-row"><div class="form-group"><label>–†–∞–∑–º–µ—Ä –í–æ–ø—Ä–æ—Å–∞</label><input type="number" id="fs-q" value="28" onchange="u()"></div><div class="form-group"><label>–†–∞–∑–º–µ—Ä –û—Ç–≤–µ—Ç–∞</label><input type="number" id="fs-a" value="20" onchange="u()"></div></div>
            
            <div class="form-group"><label>üé® –¶–≤–µ—Ç –§–û–ù–ê –û–ö–ù–ê</label><input type="color" id="col-win-bg" value="#1a1a1a" onchange="u()"></div>
            <div class="form-group"><label>‚ú® –¶–≤–µ—Ç –†–ê–ú–ö–ò / –ö–ù–û–ü–ö–ò</label><input type="color" id="col-border" value="#a29bfe" onchange="u()"></div>
            
            <div class="form-row"><div class="form-group" style="flex:1"><label>–¢–µ–∫—Å—Ç –û—Ç–≤–µ—Ç–∞</label><input type="color" id="col-lt" value="#ffffff" onchange="u()"></div><div class="form-group" style="flex:1"><label>–§–æ–Ω –û—Ç–≤–µ—Ç–∞</label><input type="color" id="col-lb" value="#000000" onchange="u()"></div></div>
            <div class="form-row"><div class="form-group" style="flex:1"><label>–ü—Ä–æ–≥—Ä–µ—Å—Å 1</label><input type="color" id="col-p1" value="#9b59b6" onchange="u()"></div><div class="form-group" style="flex:1"><label>–ü—Ä–æ–≥—Ä–µ—Å—Å 2</label><input type="color" id="col-p2" value="#8e44ad" onchange="u()"></div></div>
        </div>
        <div id="tab-text" class="section">
            <div class="form-group"><label>–ó–∞–≥–æ–ª–æ–≤–æ–∫</label><input type="text" id="tt" value="–ü–û–ô–ú–ê–ô –ú–ê–†–®–ú–ï–õ–õ–û–£" onchange="u()"></div>
            <div class="form-group"><label>–û–ø–∏—Å–∞–Ω–∏–µ</label><textarea id="td" rows="2" onchange="u()">–ò—Å–ø–æ–ª—å–∑—É–π ‚Üê –∏–ª–∏ ‚Üí —á—Ç–æ–±—ã –ø–æ–π–º–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã. –ò–∑–±–µ–≥–∞–π –≥–æ—Ä–µ–ª—ã—Ö –º–∞—Ä—à–º–µ–ª–ª–æ—É!</textarea></div>
            <div class="form-group"><label>–ü–æ–±–µ–¥–∞</label><input type="text" id="tw" value="–ü–û–ë–ï–î–ê!" onchange="u()"></div>
            <div class="form-group"><label>–ü–æ—Ä–∞–∂–µ–Ω–∏–µ</label><input type="text" id="tl" value="–û–π!" onchange="u()"></div>
        </div>
    </div>
    <div class="editor-footer"><button class="btn-generate" onclick="gen()">üì¶ –ü–û–õ–£–ß–ò–¢–¨ –ö–û–î</button></div>
</div>
<div class="preview-area"><div id="game-preview-container"><iframe id="game-frame"></iframe></div></div>
<div id="modal-code" class="modal-overlay"><div class="code-modal"><h3>–ö–æ–¥ –≥–æ—Ç–æ–≤!</h3><p>–í—Å—Ç–∞–≤—å—Ç–µ –≤ Genially (Insert -> Others).</p><textarea id="final-code" readonly></textarea><div class="modal-btns"><button onclick="document.getElementById('modal-code').style.display='none'">–ó–∞–∫—Ä—ã—Ç—å</button><button onclick="copy()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button></div></div></div>

<script>
const def={h:"https://img.genially.com/684ea2da1b51060014c50e97/ea80b435-14c0-4490-b057-d9b367d6d8b8.png",b:"https://img.genially.com/684ea2da1b51060014c50e97/1100a032-bbfa-469f-aa6c-454364216500.png",l:"https://img.genially.com/684ea2da1b51060014c50e97/56159391-2288-48d7-8264-2e7f0aa2f799.gif",gc:"https://img.genially.com/684ea2da1b51060014c50e97/6caada9a-c539-4f5d-952c-c63df7c459f4.png",gw:"https://img.genially.com/684ea2da1b51060014c50e97/152eafba-7d36-41e3-9026-b78a900821bd.png",qs:[{t:"–î–ª—è 6 –≥–∏—Ä–ª—è–Ω–¥ –Ω–∞–¥–æ 48 —Ñ–æ–Ω–∞—Ä–∏–∫–æ–≤...",c:"88",w:"42, 56"}]};
const fonts={"Roboto":"https://fonts.googleapis.com/css2?family=Roboto:wght@700&display=swap","Pacifico":"https://fonts.googleapis.com/css2?family=Pacifico&display=swap","Ruslan Display":"https://fonts.googleapis.com/css2?family=Ruslan+Display&display=swap","Arial":""};

window.onload=()=>{
    document.getElementById('img-hero').value=def.h;document.getElementById('img-bomb').value=def.b;
    document.getElementById('img-life').value=def.l;document.getElementById('img-correct').value=def.gc;
    document.getElementById('img-wrong').value=def.gw;def.qs.forEach(q=>addQuestion(q.t,q.c,q.w));u();
};
function switchTab(id){document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));event.target.classList.add('active');document.getElementById('tab-'+id).classList.add('active');}
function addQuestion(t="",c="",w=""){const d=document.createElement('div');d.className='q-item';d.innerHTML=`<div class="btn-remove-q" onclick="this.parentElement.remove();u()">√ó</div><input class="qt" placeholder="–í–æ–ø—Ä–æ—Å" value="${t}" onchange="u()"><div class="form-row"><input class="qc" placeholder="–í–µ—Ä–Ω–æ" value="${c}" style="border-color:#2ecc71" onchange="u()"><input class="qw" placeholder="–ù–µ–≤–µ—Ä–Ω–æ" value="${w}" style="border-color:#e74c3c" onchange="u()"></div>`;document.getElementById('questions-list').appendChild(d);}
function getCfg(){
    const qs=[];document.querySelectorAll('.q-item').forEach(i=>{const t=i.querySelector('.qt').value;const c=i.querySelector('.qc').value.split(',').map(s=>s.trim()).filter(s=>s);const w=i.querySelector('.qw').value.split(',').map(s=>s.trim()).filter(s=>s);if(t)qs.push({text:t,correct:c,wrong:w});});
    return {
        sp:document.getElementById('conf-speed').value,h:document.getElementById('img-hero').value,b:document.getElementById('img-bomb').value,l:document.getElementById('img-life').value,gc:document.getElementById('img-correct').value,gw:document.getElementById('img-wrong').value,qs:qs,fn:document.getElementById('font-family').value,fq:document.getElementById('fs-q').value,fa:document.getElementById('fs-a').value,
        bc:document.getElementById('col-border').value, 
        wbg:document.getElementById('col-win-bg').value,
        p1:document.getElementById('col-p1').value,p2:document.getElementById('col-p2').value,cl:document.getElementById('col-lt').value,lb:document.getElementById('col-lb').value,tt:document.getElementById('tt').value,td:document.getElementById('td').value,tw:document.getElementById('tw').value,tl:document.getElementById('tl').value,td:document.getElementById('td').value
    };
}
function u(){const c=getCfg();const h=build(c);document.getElementById('game-frame').src=URL.createObjectURL(new Blob([h],{type:'text/html'}));}
function gen(){const c=getCfg();document.getElementById('final-code').value=build(c);document.getElementById('modal-code').style.display='flex';}
function copy(){const t=document.getElementById("final-code");t.select();document.execCommand("copy");alert("–°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!");}

function build(c){
    const fUrl=fonts[c.fn]; const fLink=fUrl?`<link href="${fUrl}" rel="stylesheet">`:'';
    const qs=JSON.stringify(c.qs);
    
    // –í–ï–†–°–ò–Ø 48: –ò–°–ü–†–ê–í–õ–ï–ù–ê –°–°–´–õ–ö–ê –ù–ê –ê–£–î–ò–û (raw.githubusercontent.com)
    
    let html = `<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<link href="${fUrl}" rel="stylesheet">
<style>
*{box-sizing:border-box;margin:0;padding:0;user-select:none}
html,body{width:100%;height:100%;background:transparent;font-family:'${c.fn}',sans-serif;margin:0;padding:0}
#GC{position:absolute;top:0;left:0;width:100%;height:100%;overflow:hidden}
:root{--c:${c.bc};--bg:${c.wbg};--p1:${c.p1};--p2:${c.p2};--fq:${c.fq}px;--fa:${c.fa}px;--cl:${c.cl};--lb:${c.lb}}
#UI{position:absolute;top:0;left:0;width:100%;padding:15px;z-index:10;display:flex;flex-direction:column;gap:10px;pointer-events:none}
.tb{display:flex;align-items:center;justify-content:center;gap:15px;pointer-events:auto}
#PB{width:40px;height:40px;border-radius:50%;border:2px solid #fff;background:var(--c);color:#fff;font-weight:700;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:0.1s}
#PB:active{transform:scale(0.9)}
.pc{flex:1;max-width:600px;height:20px;background:rgba(0,0,0,0.5);border:2px solid rgba(255,255,255,0.8);border-radius:10px;overflow:hidden}
.pf{height:100%;background:linear-gradient(90deg,var(--p1),var(--p2));width:0%;transition:width 0.5s ease}
#QB{background:#111;border:2px solid var(--c);box-shadow:0 0 10px var(--c);color:#fff;border-radius:18px;padding:18px 24px;text-align:center;max-width:820px;margin:0 auto;box-sizing:border-box;pointer-events:auto;animation:pi .5s}
#QT{font-size:var(--fq);color:#fff;font-weight:700;text-shadow:0 0 5px var(--c);}
#LB{position:absolute;top:20px;right:20px;display:flex;gap:10px;pointer-events:none}
.h{width:50px;height:50px;background-size:contain;background-repeat:no-repeat;background-position:center;display:inline-block;filter:drop-shadow(0 2px 2px rgba(0,0,0,0.3))}
.h.br{animation:hba 2.5s forwards ease-out;z-index:100;position:relative}
@keyframes hba{0%{transform:scale(1);filter:brightness(1)}10%{transform:scale(1.1) rotate(-5deg);filter:brightness(2) sepia(1)}100%{transform:translateY(-150px) scale(1.2) rotate(-20deg);opacity:0}}
#H{position:absolute;bottom:30px;width:150px;height:190px;background-repeat:no-repeat;background-position:center;background-size:contain;transform-origin:center bottom;transition:transform 0.1s linear;z-index:5}
.f{position:absolute;top:-100px;display:flex;justify-content:center;align-items:center;background-size:contain;background-repeat:no-repeat;background-position:center;will-change:top;z-index:4}
.il{background:var(--lb);color:var(--cl);padding:4px 8px;border-radius:4px;font-size:var(--fa);font-weight:700;white-space:nowrap;margin-top:-60px;text-shadow:0 0 2px #000;border:1px solid #ffffff50}
.cf{position:absolute;width:10px;height:10px;background:#f00;top:-10px;z-index:25;pointer-events:none;opacity:0}
@keyframes cfa{0%{transform:translateY(0) rotate(0deg);opacity:1}100%{transform:translateY(100vh) rotate(720deg);opacity:0}}
.ss{animation:sha 0.5s}
@keyframes sha{0%{transform:translate(1px,1px)}10%{transform:translate(-1px,-2px) rotate(-1deg)}30%{transform:translate(3px,2px)}50%{transform:translate(-1px,2px) rotate(-1deg)}70%{transform:translate(3px,1px) rotate(-1deg)}90%{transform:translate(1px,2px)}100%{transform:translate(1px,-2px) rotate(-1deg)}}
.ov{position:absolute;inset:0;background:rgba(0,0,0,0.85);display:flex;align-items:center;justify-content:center;z-index:20;transition:0.3s;padding:15px;box-sizing:border-box}
.ov.hd{opacity:0;pointer-events:none}

.md {
  background: var(--bg);
  border: 3px solid var(--c);
  box-shadow: 0 0 30px var(--c), inset 0 0 30px rgba(0,0,0,0.6);
  border-radius: 25px;
  width: 95%;
  max-width: 750px;
  height: auto;
  max-height: 90vh;
  overflow-y: auto;
  box-sizing: border-box;
  padding: 40px;
  color: #fff;
  display: flex;
  flex-direction: column;
  align-items: center; 
  text-align: center; 
}

.md h1 {
    color: #fff; 
    margin: 0 0 15px 0; 
    font-size: 32px; 
    text-transform: uppercase;
    text-shadow: 0 0 10px var(--c);
    width: 100%; 
}

.md p {
    color: #eee; 
    font-size: 18px; 
    margin: 0 0 30px 0; 
    white-space: pre-line;
    line-height: 1.5;
    width: 100%;
}

.game-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: auto;
  max-width: 250px;
  min-width: 160px;
  height: 50px;     
  padding: 0 30px;
  background: var(--c); 
  border-radius: 50px;
  color: #fff;
  font-weight: 800;
  font-size: 18px;
  text-transform: uppercase;
  cursor: pointer;
  box-shadow: 0 0 15px var(--c);
  transition: all 0.1s;
  user-select: none;
  border: 2px solid #fff;
  line-height: 1 !important; 
}
.game-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 0 25px var(--c);
}
.game-btn:active {
  transform: scale(0.95);
}

.ft{position:absolute;font-weight:700;font-size:24px;pointer-events:none;animation:fu 1s forwards;z-index:15;text-shadow:2px 2px 0 #000}
@keyframes fu{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(-50px)}}
@keyframes pi{0%{transform:scale(0.8);opacity:0}100%{transform:scale(1);opacity:1}}
</style>
</head>
<body><div id="GC"><div id="UI"><div class="tb"><button id="PB">||</button><div class="pc"><div id="PF" class="pf"></div></div></div><div id="LB"></div><div id="QB"><div id="QT">...</div></div></div><div id="H"></div><div id="O" class="ov"><div class="md"><h1 id="OT"></h1><p id="OD"></p><div id="OB" class="game-btn">OK</div></div></div></div>
<audio id="SC" src=""></audio><audio id="SW" src=""></audio><audio id="SWin" src=""></audio><audio id="SL" src=""></audio>
<script>
(function(){
const C={li:"${c.l}",hi:"${c.h}",bi:"${c.b}",gc:"${c.gc}",gw:"${c.gw}",hs:6,fs:${c.sp},si:900,ml:3,qs:${qs},tx:{t:"${c.tt}",d:"${c.td}",w:"${c.tw}",l:"${c.tl}"}};
let s={rn:0,pa:0,qi:0,lv:C.ml,hx:0,hf:0,ao:[],lt:0,tm:0,af:0,k:{l:0,r:0}};
const D=document,E={c:D.getElementById('GC'),h:D.getElementById('H'),l:D.getElementById('LB'),qt:D.getElementById('QT'),pf:D.getElementById('PF'),o:D.getElementById('O'),ot:D.getElementById('OT'),od:D.getElementById('OD'),ob:D.getElementById('OB'),pb:D.getElementById('PB')};
function I(){E.h.style.backgroundImage='url("'+C.hi+'")';ev();rs();uu(1);so(0);}
function so(m){E.o.classList.remove('hd');if(m===0){stt(C.tx.t,C.tx.d,"–ò–ì–†–ê–¢–¨",sg);}else if(m===1){stt("–ü–∞—É–∑–∞","–ò–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ","–ü–†–û–î–û–õ–ñ–ò–¢–¨",tp);}else if(m===2){stt(C.tx.l,"","–ï–©–ï –†–ê–ó",sg);ps('snd-lose');}else if(m===3){stt(C.tx.w,"","–ï–©–ï –†–ê–ó",sg);ps('snd-win');fc();}}
function stt(t,d,b,f){E.ot.innerText=t;E.od.innerText=d;E.ob.innerText=b;E.ob.onclick=f;}
function ho(){E.o.classList.add('hd');}
function sg(){if(s.af)cancelAnimationFrame(s.af);clearInterval(s.tm);D.querySelectorAll('.cf').forEach(c=>c.remove());s.lv=C.ml;s.qi=0;s.ao.forEach(o=>o.el.remove());s.ao=[];s.rn=1;s.pa=0;s.lt=performance.now();uu(1);lq(0);ho();s.af=requestAnimationFrame(gl);s.tm=setInterval(spl,C.si);}
function tp(){if(!s.rn)return;s.pa=!s.pa;if(s.pa){clearInterval(s.tm);so(1);}else{ho();s.lt=performance.now();s.tm=setInterval(spl,C.si);s.af=requestAnimationFrame(gl);}}
function lq(i){if(i>=C.qs.length){wg();return;}const q=C.qs[i];E.qt.textContent=q.text;const b=D.getElementById('QB');b.style.animation='none';b.offsetHeight;b.style.animation='pi 0.5s';}
function gl(t){if(!s.rn||s.pa)return;const dt=(t-s.lt)/16;s.lt=t;uh(dt);uo(dt);s.af=requestAnimationFrame(gl);}
function uh(dt){const sp=C.hs*dt,r=E.c.getBoundingClientRect(),hw=E.h.offsetWidth;if(s.k.l){s.hx-=sp;s.hf=1;}if(s.k.r){s.hx+=sp;s.hf=0;}if(s.hx<0)s.hx=0;if(s.hx>r.width-hw)s.hx=r.width-hw;E.h.style.left=s.hx+"px";E.h.style.transform='scaleX('+(s.hf?-1:1)+')';}
function uo(dt){const gr=E.c.getBoundingClientRect(),hr=E.h.getBoundingClientRect(),hb={l:hr.left+20,r:hr.right-20,t:hr.top+30,b:hr.bottom};for(let i=s.ao.length-1;i>=0;i--){if(i>=s.ao.length)break;const o=s.ao[i];if(!o)continue;o.y+=o.sp*dt;o.el.style.top=o.y+"px";if(o.y>gr.height){o.el.remove();s.ao.splice(i,1);continue;}const or=o.el.getBoundingClientRect();if(or.right>hb.l&&or.left<hb.r&&or.bottom>hb.t&&or.top<hb.b){hc(o,i);if(s.ao.length===0)break;}}}
function spl(){if(!s.rn||s.pa)return;if(s.qi>=C.qs.length)return;const q=C.qs[s.qi];if(!q)return;const r=Math.random();let t,tx,ic;if(r<0.1){t='b';}else if(r<0.5){t='a';ic=1;tx=q.correct[Math.floor(Math.random()*q.correct.length)];}else{t='a';ic=0;tx=q.wrong[Math.floor(Math.random()*q.wrong.length)];}cfo(t,tx,ic);}
function cfo(t,tx,ic){const el=D.createElement('div');el.classList.add('f');const gw=E.c.offsetWidth,x=Math.random()*(gw-110)+20;el.style.left=x+"px";el.style.width="70px";el.style.height="70px";if(t==='b'){el.style.backgroundImage='url("'+C.bi+'")';}else{el.style.backgroundImage='url("'+(ic?C.gc:C.gw)+'")';const l=D.createElement('div');l.className='il';l.textContent=tx;el.appendChild(l);}E.c.appendChild(el);s.ao.push({el:el,x:x,y:-100,sp:Number(C.fs)+Math.random()*1.5,type:t,ic:ic});}
function hc(o,i){o.el.remove();s.ao.splice(i,1);const hr=E.h.getBoundingClientRect(),cx=hr.left+hr.width/2;if(o.type==='b'){ps('snd-bomb');td();ss();sft("-1 ‚ù§Ô∏è",cx,hr.top,"red");}else{if(o.ic){ps('snd-correct');sft("–í–µ—Ä–Ω–æ!",cx,hr.top,"#4caf50");nl();}else{ps('snd-wrong');td();sft("–û—à–∏–±–∫–∞!",cx,hr.top,"orange");}}}
function nl(){s.ao.forEach(o=>o.el.remove());s.ao=[];s.qi++;uu();if(s.qi>=C.qs.length){wg();}else{lq(s.qi);}}
function td(){s.lv--;uu();if(s.lv<=0)go();}
function uu(r=0){const c=E.l;if(r){c.innerHTML='';for(let i=0;i<s.lv;i++){const h=D.createElement('div');h.className='h';h.style.backgroundImage='url("'+C.li+'")';c.appendChild(h);}}else{const ch=c.querySelectorAll('.h:not(.br)'),ct=s.lv;if(ch.length>ct){for(let i=0;i<ch.length-ct;i++){const hb=ch[ch.length-1-i];if(hb){hb.classList.add('br');hb.addEventListener('animationend',()=>hb.remove(),{once:true});}}}}const p=C.qs.length>0?(s.qi/C.qs.length)*100:0;E.pf.style.width=p+'%';}
function ss(){E.c.classList.remove('ss');void E.c.offsetWidth;E.c.classList.add('ss');}
function sft(t,x,y,c){const e=D.createElement('div');e.className='ft';e.textContent=t;e.style.color=c;e.style.left=x+"px";e.style.top=y+"px";D.body.appendChild(e);setTimeout(()=>e.remove(),1000);}
function ps(i){const a=new Audio();
if(i=='snd-correct')a.src='https://zvukipro.com/uploads/files/2018-10/1540309251_jg-032316-sfx-video-game-retro-8-bit-coin-pickup-1.mp3';
if(i=='snd-wrong')a.src='https://zvukipro.com/uploads/files/2018-10/1540309327_jg-032316-sfx-video-game-retro-8-bit-error-tone.mp3';
// –ü–†–Ø–ú–ê–Ø –°–°–´–õ–ö–ê –ù–ê GITHUB (RAW) - –≠–¢–û –î–û–õ–ñ–ù–û –†–ê–ë–û–¢–ê–¢–¨
if(i=='snd-bomb')a.src='https://raw.githubusercontent.com/nastyaiv3100-cyber/Catch-the-item/main/262436__the_sound_side__real-explosions-real-gunshots.wav';
if(i=='snd-lose')a.src='https://zvukipro.com/uploads/files/2021-02/1612773299_fail-sound-effect.mp3';
if(i=='snd-win')a.src='https://zvukipro.com/uploads/files/2020-07/1594279589_claps.mp3';
a.volume = 1.0; /* –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥—Ä–æ–º–∫–æ—Å—Ç—å */
a.play().catch(e=>{console.log("Audio play error:", e);});}
function go(){s.rn=0;if(s.af)cancelAnimationFrame(s.af);clearInterval(s.tm);so(2);}
function wg(){s.rn=0;if(s.af)cancelAnimationFrame(s.af);clearInterval(s.tm);E.pf.style.width='100%';so(3);}
function fc(){const c=['#d13447','#ffbf00','#263672','#7b2cbf','#8ac926','#1982c4'];for(let i=0;i<150;i++){const e=D.createElement('div');e.className='cf';e.style.backgroundColor=c[Math.floor(Math.random()*c.length)];e.style.left=Math.random()*100+'vw';const d=Math.random()*3+2;e.style.animation=\`cfa \${d}s linear forwards\`;e.style.animationDelay=Math.random()*2+'s';const s=Math.random()*10+5;e.style.width=s+'px';e.style.height=s*0.6+'px';E.c.appendChild(e);}}
function rs(){s.hx=(E.c.offsetWidth-100)/2;E.h.style.left=s.hx+"px";}
function ev(){
    window.addEventListener('resize',rs);
    window.addEventListener('keydown',e=>{if(e.code==='Space')tp();if(e.code==='ArrowLeft'||e.code==='KeyA')s.k.l=1;if(e.code==='ArrowRight'||e.code==='KeyD')s.k.r=1;});
    window.addEventListener('keyup',e=>{if(e.code==='ArrowLeft'||e.code==='KeyA')s.k.l=0;if(e.code==='ArrowRight'||e.code==='KeyD')s.k.r=0;}); 
    E.pb.addEventListener('click',tp);E.ob.addEventListener('click',tp);}
I();})();
<\/script></body></html>`;
    return html;
}
</script>
</body>
</html>
